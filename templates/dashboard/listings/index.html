{% extends "dashboard/base.html" %}

{% block dashboard_title %}Listings{% endblock %}

{% block dashboard_content %}
<header class="flex-between">
    <h1>Your listings</h1>
    <a role="button" class="contrast" href="{% url 'dashboard:create' %}">New listing</a>
</header>

<form method="get" class="grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
    <label>
        <span>Status</span>
        <select name="status" hx-get="{% url 'dashboard:index' %}" hx-target="#listing-table" hx-trigger="change" hx-push-url="true">
            <option value="" {% if not request.GET.status %}selected{% endif %}>All</option>
            {% for value, label in status_choices %}
                <option value="{{ value }}" {% if request.GET.status == value %}selected{% endif %}>{{ label }}</option>
            {% endfor %}
        </select>
    </label>
</form>

{% include "dashboard/listings/partials/list_table.html" %}
{% endblock %}
